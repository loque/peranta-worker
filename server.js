!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("peranta/server"));else if("function"==typeof define&&define.amd)define(["peranta/server"],t);else{var r=t("object"==typeof exports?require("peranta/server"):e["peranta/server"]);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function c(){d&&h&&(d=!1,h.length?y=h.concat(y):m=-1,y.length&&u())}function u(){if(!d){var e=o(c);d=!0;for(var t=y.length;t;){for(h=y,y=[];++m<t;)h&&h[m].run();m=-1,t=y.length}h=null,d=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function a(){}var f,l,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var h,y=[],d=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];y.push(new s(e,t)),1!==y.length||d||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=a,p.addListener=a,p.once=a,p.off=a,p.removeListener=a,p.removeAllListeners=a,p.emit=a,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},,function(t,r){t.exports=e},,function(e,t,r){"use strict";(function(t){function n(){return void 0!==("undefined"==typeof WorkerGlobalScope?"undefined":c(WorkerGlobalScope))&&self instanceof WorkerGlobalScope?self:window}function o(e){var r=this;return this.receivers={},this.raw=e,this.raw.onmessage=function(e){var n=e.data;if(!Array.isArray(n))return void("production"!==t.env.NODE_ENV&&console.info("message from client is not array",n));var o=n.shift(),i=n[0];r.receivers.hasOwnProperty(o)?(e.sender={send:r.send.bind(r)},r.receivers[o].callback(e,i)):"production"!==t.env.NODE_ENV&&console.info('channel "'+o+'" has no receiver attached')},this}function i(){return new u(new o(n()))}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=r(2);o.prototype.on=function(e,t){this.receivers[e]={channel:e,callback:t}},o.prototype.send=function(e,t){var r=JSON.parse(JSON.stringify(t));this.raw.postMessage([e,r])},e.exports={create:i}}).call(t,r(0))}])});